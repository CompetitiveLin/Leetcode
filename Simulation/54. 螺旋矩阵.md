#### 54. 螺旋矩阵

难度：中等

---

给你一个 `m` 行 `n` 列的矩阵 `matrix` ，请按照  **顺时针螺旋顺序**  ，返回矩阵中的所有元素。

 **示例 1：** 

![](https://assets.leetcode.com/uploads/2020/11/13/spiral1.jpg)
```
输入：matrix = [[1,2,3],[4,5,6],[7,8,9]]
输出：[1,2,3,6,9,8,7,4,5]
```

 **示例 2：** 

![](https://assets.leetcode.com/uploads/2020/11/13/spiral.jpg)
```
输入：matrix = [[1,2,3,4],[5,6,7,8],[9,10,11,12]]
输出：[1,2,3,4,8,12,11,10,9,5,6,7]
```

 **提示：** 

*   `m == matrix.length`
*   `n == matrix[i].length`
*   `1 <= m, n <= 10`
*   `-100 <= matrix[i][j] <= 100`

---

模拟：

用若干个变量分别表示下一步走的方向，上下左右四个方向的边界以及当前点的坐标。再分别考虑当前点到达角落时后续的移动情况。

```Go
func spiralOrder(matrix [][]int) []int {
    left, right, up, down := 0, len(matrix[0]) - 1, 0, len(matrix) - 1
    first, second := 0, 0
    flag, sum := 1, (right + 1) * (down + 1)
    res := make([]int, sum)
    for cnt := 0; cnt < sum; cnt++ {
        res[cnt] = matrix[first][second]
        if flag == 1 {
            if second == right{
                flag = 2
                up++
                first++
            }else {
                second++
            }
        } else if flag == 2 {
            if first == down {
                flag = 3
                right--
                second--
            } else {
                first++
            }
        } else if flag == 3 {
            if second == left {
                flag = 4
                down--
                first--
            } else {
                second--
            }
        } else if flag == 4 {
            if first == up {
                flag = 1
                left++
                second++
            } else {
                first--
            }
        }
    }
    return res
}
```